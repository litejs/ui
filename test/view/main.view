

@def settings settings.tpl,settings.css
@def test-form1 test-form1.tpl
@def test-grid test-grid.tpl
@def test-svg ../../svg.js,tooltip.tpl,test-svg.view
@def testman,testman/lcov,testman/lcov/{file} testman.tpl
@def test-material-ui components/Slider.tpl,material-ui.tpl,test-material-ui.view


@el form-js
	form[action="javascript:"][method=POST]

@el top
	.bg-1
		.top.t-1.App-row
			.right.lang &each: lng in _.list
				a.hand - {lng|upper} -
					&on:"click", _.setLang.bind(null, lng)
					&class:"selected", lng == _.current
					&class:"lang-" + lng
			a[href="#home"].home-link Header
			span.sizeHint Responsive
	.bg-2
		.Menu.App-row
			@el nav-row
				a.Menu-item.waves
					&class:"selected", (history.getUrl()||View.home).indexOf(this.href.split("#")[1]) == 0
			nav-row[href="#home"] Home
			nav-row[href="#users"] Users
			nav-row[href="#settings"] Settings
			nav-row[href="#test"] Test

@el Footer
	.bg-1
		.Footer.App-row.grid-3.c2
			.Footer-item.col-4
				dt litejs.com
				dd>a[href="#help"] How to use
				dd>a[href="#privacy"] Privacy
			.Footer-item.col-4
				dt Contacts
				dd>a[href="mailto:mail@to.com"] email

@el confirm
	.modal.abs.max.fix
		.abs.max.modal__background
		.grid-1.modal__content
			.col-12 {title}
			.col-12 {body}
			.col-6>.btn Cancel
			.col-6>.btn Ok

@view #public #body .content
	.App.max-height
		top
		.content.loader.App-row
		.Footer-spacer
	Footer

@view #private #body .content
	.App.max-height
		button.top__logout.right Logout
			&on:"click", "logout"
		top
		.content.loader.App-row
		.Footer-spacer
	Footer

@view 404 #public
	h2 Error 404
	\ Page not found.
	\ Maybe you want to look something else?

@view home #public
	h2 Home
	div _welcome
		&on: "click", Fn("this.style.fontStyle = this.style.fontStyle == 'italic' ? '' : 'italic'")
	div &txt: _("_welcome")
		&on: "mouseover", Fn("this.addClass('bg3'),this.txt(this.txt() == _('_welcome') ? 'Over!' : _('_welcome'))")
		&on: "mouseout", Fn("this.rmClass('bg3'),this.txt(_('_welcome'))")
	div &txt: _(welcomeText)
	div &txt: _(nonExistingWelcomeText)
	.time
		&txt: started.format()
	.time
		&txt: new Date().format()

@view login #public
	form[action="javascript:"][method=POST] &emitForm:"login"
		fieldset.grid-2.login
			legend Login
			label.col-12
				.col-12.col-md-4.login__label Username
				.col-12.col-md-8>input[name=name]
			label.col-12
				.col-12.col-md-4.login__label Password
				.col-12.col-md-8>input[name=pass][type=password]
			.col-12
				.col-12.col-md-4
				.col-12.col-md-8>input.btn[type=submit] Log In


@view users #public
	h2 Users
	ul.users &list: Data("users")
		li
			a
				&txt: item.name
				&href: "#users/" + item.id

@view users/{id} #public
	form-js
		&schemaToForm: "schema/user.json", "edit", "Form1"

@view ok #public
	h1 Ok!

@view-link test-view-link ok

@view test #public
	h2 Test
	ul
		li>a[href="#testman"] Testman
		li>a[href="#broken-link"] Test broken link
		li>a[href="#test-view-link"] Test View link
		li>a[href="#test-form1"] Test form
		li>a[href="#test-svg"] Test SVG
		li>a[href="#test-grid"] Test grid
		li>a[href="#test-material-ui"] Test Material-UI
	@rel user home vnd.app.home
		.home {home.name}
	@rel user home vnd.app.home.v2
		.home {home.homeName}

